<!doctype html>
<html>
<head>
	<title>Passenger details</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

	<style>
		/* body 	{
			  background-color:#99afcc } */
			 
  
		body 		{ 
            background-image: url("bg1.jpg");
            background-repeat: no-repeat;
    background-size: 100% 100%; }


		.myDiv{
			    width:100%;
			    height:90%;
			    background:#d9ddd4;
			    border-radius: 25px;
			}
		.borderless td, .borderless th {
    			border: none;
		}
		.navbar{
			background-color: black;
		}
		nav.btn{
			color: white;
		}
		.modal-body{
			opacity: 0.85;
		}
		.card{
			opacity: 0.85;
		}
	</style>

	<script>


	var checkemail = function()
	{
		var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
		var email = document.getElementById('Email').value
		if (!emailReg.test(email)) {
			document.getElementById('emailmsg').style.color = 'red';
			document.getElementById('emailmsg').innerHTML = 'Wrong Email';
		} else {

			document.getElementById('emailmsg').innerHTML = ' ';
		}
	}

	var checkph = function ()
	{
		var inpObj = document.getElementById("ph");
		if (!inpObj.checkValidity() && inpObj.length!=10) {
			 document.getElementById('demo').style.color = 'red';
			document.getElementById("demo").innerHTML = "Incorrect Phone Number";
		} else {
			document.getElementById("demo").innerHTML = " ";
		}
 }

 var checkage = function ()
 {
 	var inpObj = document.getElementById("age").value;
 	if (inpObj<=0 || inpObj>=120) {
 		 document.getElementById('agemsg').style.color = 'red';
 		document.getElementById("agemsg").innerHTML = "Incorrect Age";
 	} else {
 		document.getElementById("agemsg").innerHTML = " ";
 	}
 }
</script>
</head>
<body>


   <nav class="navbar navbar-expand-sm navbar-dark">
	<div class="collapse navbar-collapse" id="navbarTogglerDemo03">
  		<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
	          <li class="nav-item active">
	  		<button type="submit" class="btn ">Welcome <%= user.username %></button>
	          </li>
 		</ul>

		<a href="/profile">
    		    <button type="button" class="btn btn-danger">Back</button>
		</a>
 	 </div>
   </nav>

 <br>
 <br>

 <div style="margin:10px 10px 10px 10px; text-align: center;">
	 <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#exampleModalCenter">
	  Click here to view Train Details
	</button>
</div>
 	</br>

	<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
		<h5 class="modal-title" id="exampleModalCenterTitle">Train Details</h5>
		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		  <span aria-hidden="true">&times;</span>
		</button>
	      </div>
	      <div class="modal-body">
					<pre>
Train Number    : <%= data.train %> </br>
From            : <%= data.from %></br>
To              : <%= data.to %></br>
Date of Journey : <%= data.date %></br>
Number of Seats : <%= data.nofseats %></br>
Timings         : <%= data.time %></br>
	</pre>
	      </div>
	      <div class="modal-footer">
		<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

	      </div>
	    </div>
	  </div>
	</div>




 <div class="row justify-content-center">
            <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">Passenger Details</div>
                        <div class="card-body">
                        	<form action="/confirmbooking" method="post">
				
				   <div class="form-row">
				    <div class="form-group col-md-12">
				      <label for="inputPassword4">Passenger Name</label>
				      <input type="text" class="form-control" id="inputPassword4" placeholder="Name" name="pass_name" required>
				      <small class="text-muted">Enter Name as in ID proof</small>
				    </div>
				  </div>

				<div class="form-row">
				      <div class="form-group col-md-6">
				      <label for="inputEmail4">Gender<br></label>
				  	<div class="form-check form-check-inline">
					  <input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="Male">
					  <label class="form-check-label" for="inlineRadio1">Male</label>
					</div>
					<div class="form-check form-check-inline">
					  <input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="Female">
					  <label class="form-check-label" for="inlineRadio2">Female</label>
					</div>
					<div class="form-check form-check-inline">
					  <input class="form-check-input" type="radio" name="gender" id="inlineRadio3" value="Trangender">
					  <label class="form-check-label" for="inlineRadio3">Others</label>
					</div>
				     </div>
				</div>


				 <div class="form-row">
				    <div class="form-group col-md-12">
				      <label for="inputPassword4">Age</label>
				      <input type="number" class="form-control" id="age" placeholder="Age" name="pass_age" onblur='checkage();' required>
							  <span id='agemsg'></span>
					  </div>
				  </div>

				  <div class="form-row">
				    <div class="form-group col-md-12">
				      <label for="inputPassword4">Email</label>
				      <input type="email" class="form-control" id="Email" placeholder="Email" name="pass_email" onkeyup='checkemail();' required>
							 <span id='emailmsg'></span>
				    </div>
				  </div>

			      	  <div class="form-row">
				    <div class="form-group col-md-12">
				      <label for="inputPassword4">Mobile</label>
				      <input type="number" class="form-control" id="ph" placeholder="Mobile" name="pass_mobile" min="5555555555" max="9999999999" onblur='checkph();' required>
							   <span id='demo'></span>
					  </div>
				  </div>
				  </hr>
				   <div class="form-row">
				    <div class="form-group col-md-12">
				     <input type="hidden" name="tnumber" value="<%=data.train%>">
				      <input type="hidden" name="tdate" value="<%=data.date%>">
				      <input type="hidden" name="tseats" value="<%=data.nofseats%>">
					  <input type="hidden" name="ttime" value="<%=data.time%>">
					
				      <button type="submit" class="btn btn-dark">Confirm Booking</button>
				    </div>
				  </div>
				 </form>
			</div>

		</div>
	</div>
</div>

     <br>
     <br>




</body>
</html>
